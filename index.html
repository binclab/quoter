<!DOCTYPE html>
<html lang="en-GB">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="Cache-Control" content="no-store" />
    <meta name="keywords" content="Aluminium, Quotation, Windows, Doors, Partitions">
    <meta name="description" content="Aluminium Products Quoter">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Bret Joseph Antonio">
    <title>Quoter</title>
    <link rel="stylesheet" href="styles.css" type="text/css">
    <script src="index.js" type="text/javascript"></script>
</head>

<body>
    <div id="login" style="display: flex; position:fixed; inset:0;align-items: center;justify-content: center;">
        <button id="loginButton" class="button" type="button" onclick="login()"
            style="width: 100px;">
            <p>Login</p><img id="googleImage" src="google.svg" type="image/svg+xml" width="16px" height="16px"
                alt="Google Icon"></img>
        </button>
        <img id="loading" src="loader.svg" type="image/svg+xml" alt="Loading Image" style="display: none;"></img>
    </div>
    <div id="content" style="display: none;">
        <nav class="navbar">
            <button class="navbuttons active" onclick="openTab(event, 'dashboard')">Dashboard</button>
            <button class="navbuttons" onclick="openTab(event, 'manage')">Manage</button>
            <button class="navbuttons" onclick="openTab(event, 'create')">Create</button>
            <button class="navbuttons" onclick="openTab(event, 'configuration')"
                style="float:right;">Configuration</button>
        </nav>
        <div id="dashboard" class="tabcontent">
            <div style="position: fixed; left: 8px; right: 8px;">
                <div style="display: flex; justify-content: space-between;align-items: center;">
                    <h2>Dashboard</h2>
                    <button class="button" type="button" onclick="logout()"
                        style="width: 128px;">
                        <p id="userName"></p>
                        <img id="userPicture" width="16px" height="16px" alt="Profile Picture"></img>
                    </button>
                </div>
                <hr>
            </div>
        </div>

        <div id="manage" class="tabcontent">
            <h2>Quotations</h2>
            <hr>
            <div style="padding-left: 32px; padding-bottom: 4px">
                <input type="text" id="quotationSearch" onkeyup="filterQuotations()"
                    placeholder="Search for a quotation ..." title="Type in a or number">
            </div>
            <table id="quotationTable">
                <tr class="header">
                    <th>Name</th>
                    <th>Surname</th>
                    <th>Contacts</th>
                    <th>Date of Entry</th>
                    <th>Status</th>
                </tr>
            </table>
            <div class="grid-item" style="padding-top: 8px">
                <label for="sorter">Sort table by:</label>
                <select name="sorter" id="sorter">
                    <optgroup label="Date">
                        <option value="ascending">Ascending Date</option>
                        <option value="descending">Descending Date</option>
                    </optgroup>
                    <optgroup label="Status">
                        <option value="ascending">Ascending Status</option>
                        <option value="descending">Descending Status</option>
                    </optgroup>
                </select>
                <button onclick="sortQuotationTable()">Sort</button>
            </div>
        </div>

        <div id="create" class="tabcontent">
            <h2>Customer Information</h2>
            <hr>
            <form id="customerForm" action="" class="grid-container" method="get" autocomplete="on"
                style="row-gap: 16px;">
                <div class="grid-item" style="grid-column: 1/span 2;">
                    <label for="name">Name:</label><br>
                    <input type="text" name="name" placeholder="John" required><br>
                    <label for="surname">Surname:</label><br>
                    <input type="text" name="surname" placeholder="Doe">
                </div>
                <div class="grid-item" style="grid-column: 3/span 2;">
                    <label for="phonenumber">Phone Number:</label><br>
                    <input type="tel" pattern="[7]{1}[1-8]{1}[0-9]{6}" name="phonenumber" maxlength="8"
                        placeholder="71234567">
                    <label for="whatsapp">Whatsapp Number:</label><br>
                    <input type="tel" pattern="[7]{1}[1-7]{1}[0-9]{6}" name="whatsapp" maxlength="8">
                </div>
                <div class="grid-item" style="grid-column: 5/span 2;">
                    <label for="email">Email:</label><br>
                    <input type="email" name="email"><br>
                    <label for="location">Location:</label><br>
                    <input type="text" name="location">
                </div>
                <input id="resetButton" type="reset" style="grid-column: 1/span 1;">
                <button type="submit" style="grid-column: 5/span 1;">Submit</button>
            </form>
        </div>

        <div id="configuration" class="tabcontent">
            <h2>Configuration</h2>
            <hr>
        </div>
    </div>
    <script type="text/javascript">
        if (localStorage.profile === undefined) setupLogin();
        else setupDashboard();
        var customerForm = document.querySelector("form#customerForm");
        customerForm.addEventListener("submit", submitCustomerInformation);
        populateQuotationTable();
    </script>
</body>

</html>